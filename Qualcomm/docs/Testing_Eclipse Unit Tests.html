<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<style type="text/css">
table {
   border-collapse: collapse;
   border-width: 1px;
   border-spacing: 1px;
   border-color: transparent;
   margin: 16px 0;
   width: 100%;
}
th {
   background-color: #bbb; color: white;
}
td, th {
   border-style: solid;
   border-color: black;
   border-width: 1px;
   padding: 0 6px;
}
td p:first-child, th p:first-child {
   margin-top: 3px;
}
td p:last-child, th p:last-child {
   margin-bottom: 3px;
}

.smarkdoc {
  margin-left: 42px; margin-right: 42px;
  font-size: 13px;
  font-family: 'Lucida Grande', Geneva, Helvetica, Arial, sans-serif;
}

h1, h2, h3 { color: #3c4c6c; }
h1 {
  text-align: center;
  font-size: 200%;
/*    margin-left: -30px; */
  clear: both;
}
h2 {
  font-size: 160%;
  margin: 32px -40px 24px -42px;
  padding: 3px 24px 8px;
  border-bottom: 2px solid #5088c5;
  clear: both;
}
h3 {
  font-size: 130%;
  margin: 20px -4px 10px;
  padding: 4px;
  clear: both;
}
h4 {
  font-size: 110%;
  margin: 2em 0 1em;
}

pre {
  font-size: 90%;
  background-color: #f0f0f4; padding: 6px; border: 1px solid #d0d0ee;
  font-family: "Courier New", "Lucida Console", "Monaco", monospace;
}

.pre {
  font-size: 90%;
  padding: 6px;
  background-color: #f0f0f4;
  font-family: "Courier New", "Lucida Console", "Monaco", monospace;
}

code {
  font-size: 90%;
  font-family: "Courier New", "Lucida Console", "Monaco", monospace;
}

h3 code {
  font-size: 100%;
}

p {
  margin: 0.8em 0;
}
ul, ol {
  margin: 1em 0 1em 3em; padding: 0;
}
div.indent {
  margin: 0 3em;
}

a[href] {
  text-decoration: none;
  color: #2020b0;
}
a[href]:hover {
  border-bottom: 1px dotted #2030d0;
}

/* Smark Users Guide */

.codebox {
  padding: 0 1px;  margin-right:1px;
  border:1px solid #d0d0ee;
  background-color: #f0f0f4;
  font-weight: bold;
  font-family: "Courier New", "Lucida Console", "Monaco", monospace;
}

/* ================ Smark-specific classes ================ */

.indent {
  margin: 0 3em;
}

/*
|| Floats affect text flow but not block boundaries, so graphics in a DIV
|| would overlap floats if not for "clear: both"
*/
.diagram {
  margin: 18px 0;
  clear: both;
}

/* ASCII Art */

.art {
  margin-right: auto; margin-left: auto; /* center */
  font-family: Arial, Verdana, "Lucida Console", Monaco, monospace;
  font-weight: bold;
}
.art * {
   border-color: #543;
}
.art .dline, .art .drect {
   border-style: dotted;
}
.art .rect {
   -webkit-box-shadow: 0.2em 0.2em 0.3em rgba(0,0,0,0.3);
   -moz-box-shadow: 0.2em 0.2em 0.3em rgba(0,0,0,0.3);
   box-shadow: 0.2em 0.2em 0.2em #875;
   background-color: #f9faf4; /* #fafff4; #f8f8ec;  */
}
.art .nofx {
   background-color: #f9faf4;
}
.art .round {
   border-radius: 0.6em;
   -webkit-border-radius: 0.6em;
   -moz-border-radius: 0.6em;
}

/* .art .line {  -webkit-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.3); } */

/* Sequence Charts */

.msc {
   font: 11px Verdana, Monaco, "Lucida Console";
   margin-left: auto; margin-right: auto;
   background-color: white;
   /* border: 1px solid #555; */  /* Useful for non-white pages */
}

/* Table of Contents */

.tocLevel {
  margin-left: 2em;
  font-weight: normal;
}
.tocLevel .tocLevel {
  font-size: 90%; /* ...of inherited font size */
  line-height: 150%; /* ...of font size */
}
.toc > .tocLevel {
  font-weight: bold;
  margin: 0.5em 0
}
.toc {
  column-count: 2; column-gap: 2em;
  -moz-column-count: 2; -moz-column-gap: 2em;
  -webkit-column-count: 2; -webkit-column-gap: 2em;
}

/* ordinary text content is in P elements */

td p:first-child, th p:first-child {
   margin-top: 3px;
}
td p:last-child, th p:last-child {
   margin-bottom: 3px;
}
li p:only-child {
  margin-top: 0;
  margin-bottom: 0;
}

/* ================ Print ================ */

@media print {

  @page {
    margin: 0.75in 0.75in;
    size: Letter;
    @bottom {
      content: counter(page);
      vertical-align: top;
      padding-top: 1em;
    }
  }
  h1 { text-align: center;
       margin: 3in 0 20px; }
  h2 { page-break-before: always; }
  h2 { string-set: section content() }
  .toc { margin: 3em -2em }
  .toc a::after {
     font-size: 10px;
     content: leader(' . ') "  " target-counter(attr(href), page);
  }
  table { page-break-inside: avoid; }
}

/* ================  Layout  ================ */
/*
 *  +------------------------+
 *  |         #header        |
 *  +----------+-------------+
 *  | #sidebar |  #content   |
 *  |          |             |
 *  +----------+-------------+
 *
 * CSS padding, border width, and border style (!) affect the actual height
 * (and in turn layout).
 */

#header {
  position: fixed;
  top: 0px;
  height: 32px;
  left: 0px;
  width: 100%;
  padding: 10px 10px 0 0;
}
#sidebar {
  position: fixed;
  top: 42px;
  bottom: 0px;
  left: 0px;
  min-width: 180px;
  overflow: auto;
  border: 1px solid transparent;
  border-width: 0 1px 0 1px;
  padding: 0px 5px 0px 5px;
}
#content {
  position: fixed;
  top: 60px;
  left: 200px;
  bottom: 0px;
  right: 0px;
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  padding: 10px 20px;
  padding-top: 0;
}

/* ================  Styles  ================ */


body {
  font-family: "Lucida Grande", Helvetica, Arial, sans-serif;
  font-size: 16px;
}

#header {
  color: #fff;
  background: #555;
  text-align: center;
  font-size: 25px;
}

#sidebar {
  color: #000;
  background: #eee;
  border-right: 1px solid #bbb;
  text-align: left;
  font-size: 12px;
  line-height: 50%;
}

#sidebar h1 {
  margin: 0 0 0 0;
  border-left: 5px solid transparent;
  text-align: left;
  font-size: 12px;
  /*text-shadow: #fff 1px 0px;*/
  line-height: 1%;
}

#sidebar h2 {
  margin: 2px 0 8px 0;
  border-left: 5px solid transparent;
  text-align: center;
  font-size: 12px;
  /*text-shadow: #fff 1px 0px;*/
  line-height: 1%;
}



#content {
  margin: 0;
  font-size: 13px;
  line-height: 160%;
}

#content h1, #content h2 {
  border-bottom: 2px solid;
  font-size: 1.8em;
  font-weight: normal;
  margin: 2.0em 0px 1.3em 0px;
  padding-bottom: 0.6em;
  text-align: left;
}

#content h3 {
  color: #242220;
  font-size: 1.4em;
  font-weight: normal;
  margin: 2em 0px 0.8em 0px;
  text-shadow: #FFFFFF 0px 1px 1px;
}
#content h4 {
  font-size: 1.2em;
  font-weight: normal;
  margin: 2em 0px 0.5em 0px;
  text-shadow: #FFFFFF 0px 1px 1px;
}

a[href] {
  color: #05c;
  text-decoration: none;
}

#sidebar a {
  /*text-shadow:  1px 1px 2px #fff, -1px -1px #ddd;*/
  line-height: 40%;
}

pre, code {
  font-family: "Courier New", "Lucida Console", "Monaco", monospace;
  font-family: "Monaco", monospace;  font-size: 90%;
  background-color: #f8f8fa;
  border: 1px solid #e4e4ee;
  -webkit-border-radius: 2px;
  -moz-border-radius: 2px;
  border-radius: 2px;
  padding: 1px 0 0 1px;
}

pre {
  padding: 2px 4px;
}

table {
   border-collapse: collapse;
   border-width: 1px;
   border-spacing: 1px;
   border-color: transparent;
   margin: 16px 0;
   width: 100%;
}
th {
   background-color: #bbb; color: white;
}
td, th {
   border-style: solid;
   border-color: black;
   border-width: 1px;
   padding: 0 6px;
}

/* Highlight currently-selected sidebar link */

#sidebar a.thisfile {
  color: #557;
}

/* indentation */

#content {
   padding-left: 60px;
}
#content h1, 
#content h2, 
#content h3, h4 {
    margin-left: -30px;
}

h3 > code {
    font-size: 80%;
}

/* ================ Smark-specific classes ================ */

.indent {
  margin: 0 3em;
}

/*
|| Floats affect text flow but not block boundaries, so graphics in a DIV 
|| would overlap floats if not for "clear: both"
*/
.diagram {
  margin: 18px 0;
  clear: both;
}

/* ASCII Art */

.art {
  margin-right: auto; margin-left: auto; /* center */
  font-family: Arial, Verdana, "Lucida Console", Monaco, monospace;
  font-weight: bold;
}
.art * {
   border-color: #543;
}
.art .dline, .art .drect {
   border-style: dotted;
}
.art .rect {
   -webkit-box-shadow: 0.2em 0.2em 0.3em rgba(0,0,0,0.3);
   -moz-box-shadow: 0.2em 0.2em 0.3em rgba(0,0,0,0.3);
   box-shadow: 0.2em 0.2em 0.2em #875;
   background-color: #f9faf4; /* #fafff4; #f8f8ec;  */
}
.art .nofx {
   background-color: #f9faf4;
}
.art .round {
   border-radius: 0.6em;
   -webkit-border-radius: 0.6em;
   -moz-border-radius: 0.6em;
}

/* Sequence Charts */

.msc {
   font: 11px Verdana, Monaco, "Lucida Console"; 
   margin-left: auto; margin-right: auto;
   background-color: white;
   border: 1px solid #555;
}

/* Table of Contents */

.tocLevel {
  margin-left: 2em;
  font-weight: normal;
}
.tocLevel .tocLevel {
  font-size: 90%; /* ...of inherited font size */
  line-height: 150%; /* ...of font size */
}
/*
.toc > .tocLevel {
  font-weight: bold;
  margin: 0.5em 0
}
*/

.toc {
  column-count: 1; column-gap: 2em;
  -moz-column-count: 1; -moz-column-gap: 2em;
  -webkit-column-count: 1; -webkit-column-gap: 2em; 
   alternate: column-width: 235px; column-rule-width: 5px;
}


.columns {
  column-count: 2; column-gap: 2em;
  -moz-column-count: 2; -moz-column-gap: 2em;
  -webkit-column-count: 2; -webkit-column-gap: 2em; p
}

/* ordinary text content is in P elements */

td p:first-child, th p:first-child {
   margin-top: 3px;
}
td p:last-child, th p:last-child {
   margin-bottom: 3px;
}
li p:only-child {
  margin-top: 0;
  margin-bottom: 0;
}


/* ================ Print ================ */

@media print {

  #header, #content { position: static; }
  #sidebar { display: none; }

  @page {
    margin: 0.75in 0.75in;
    size: Letter;
    @bottom {
      content: counter(page);
      vertical-align: top;
      padding-top: 1em;
    }
  }
  h1 { text-align: center;
       margin: 1in 0 1in; }
  h2 { page-break-before: always; }
  h2 { string-set: section content() }
  .toc { margin: 3em 0 }
  .toc a::after {
     font-size: 10px;
     content: leader(' . ') "  " target-counter(attr(href), page);
  }
  table { page-break-inside: avoid; }
}


</style><style type="text/css">
.search { right: 20pt; position: fixed; top: 5pt }

</style><title>&#65279;Unit test framework</title>
</head><body>
<div class="smarkdoc"><div id="header">Hexagon SDK 3.4.3</div><div id="sidebar"><top><img src="images/sidebar_top.jpg"></top><script src="scripts/post.js" type="text/javascript"></script><form class="search" id="searchForm"><input id="searchquery" name="q" onkeydown="postFunctionKeydown(event, false)"><input id="searchButton" onclick="postFunction(false)" type="button" value="Search"></form><p>
<a href="index.html">Quick start</a>
</p><hr>
<p>
<a href="feature_matrix.html">Feature Matrix</a>
</p><hr>
<p>
<a href="hexagon_architecture.html">Hexagon Architecture</a>
</p><hr>
<p>
<a href="images/Hexagon_Document_Bundle.pdf#page=2881">Hexagon Compiler/Linker</a>
</p><hr>
<p>
<a href="hexagon_libraries.html">Hexagon Standard Libraries</a>
</p><hr>
<p>
<a href="images/80-VB419-178_QuRT_User_Guide.pdf">Hexagon RTOS</a>
</p><hr>
<p>
<a href="images/80-VB419-108_Hexagon_DSP_User_Guide.pdf">Hexagon DSP Programming</a>
</p><hr>
<h3>
<a name="Platforms"></a>Platforms
</h3><p>
<a href="Platforms_HLOS.html">HLOS</a>
</p><p>
<a href="Platforms_Simulator.html">Simulator</a>
</p><p>
<a href="Platforms_Target.html">Target</a>
</p><hr>
<h3>
<a name="Environments"></a>Environments
</h3><p>
<a href="Environments_Build%20System.html">Build System</a>
</p><p>
<a href="Environments_Build%20System%20Porting.html">Build System Porting</a>
</p><p>
<a href="Environments_Hexagon%20IDE.html">Hexagon IDE</a>
</p><hr>
<h3>
<a name="ArchitectureOverview"></a>ArchitectureOverview
</h3><p>
<a href="HVX/ArchitectureOverview.html">HVX</a>
</p><hr>
<h3>
<a name="Applications"></a>Applications
</h3><p>
<a href="Audio/Applications.html">Audio</a>
</p><p>
<a href="Camera%20streaming/Applications.html">Camera streaming</a>
</p><p>
<a href="Applications_Compute%20offload.html">Compute offload</a>
</p><p>
<a href="FastCV/Applications_Computer%20Vision.html">Computer Vision</a>
</p><p>
<a href="Neural%20Networks/Applications.html">Neural Networks</a>
</p><p>
<a href="Voice/Applications.html">Voice</a>
</p><hr>
<h3>
<a name="APIs"></a>APIs
</h3><p>
<a href="APIs_Async%20Message%20Queue.html">Async Message Queue</a>
</p><p>
<a href="APIs_DSP%20Clk%20&amp;%20Rsrc%20Mgmt.html">DSP Clk &amp; Rsrc Mgmt</a>
</p><p>
<a href="APIs_Dynamic%20Loading.html">Dynamic Loading</a>
</p><p>
<a href="APIs_FastRPC.html">FastRPC</a>
</p><hr>
<h3>
<a name="Examples"></a>Examples
</h3><p>
<a href="Audio/Examples.html">Audio</a>
</p><p>
<a href="Camera%20streaming/Examples.html">Camera streaming</a>
</p><p>
<a href="Examples_Common.html">Common</a>
</p><p>
<a href="Examples_ComputeHVX.html">ComputeHVX</a>
</p><p>
<a href="Examples_GeneralOverview.html">GeneralOverview</a>
</p><p>
<a href="Neural%20Networks/Examples.html">Neural Networks</a>
</p><hr>
<h3>
<a name="Testing"></a>Testing
</h3><p>
<a href="CAPIv2/Testing_CAPIv2%20Unit%20Tests.html">CAPIv2 Unit Tests</a>
</p><p>
<a href="Testing_Eclipse%20Unit%20Tests.html">Eclipse Unit Tests</a>
</p><hr>
<h3>
<a name="Debugging"></a>Debugging
</h3><p>
<a href="Debugging_Connect%20to%20Device.html">Connect to Device</a>
</p><p>
<a href="Debugging_Exceptions.html">Exceptions</a>
</p><p>
<a href="Debugging_Message%20Logging.html">Message Logging</a>
</p><p>
<a href="Debugging_Simulator.html">Simulator</a>
</p><p>
<a href="Debugging_Target.html">Target</a>
</p><hr>
<h3>
<a name="Tools"></a>Tools
</h3><p>
<a href="Tools_Hexagon%20Tools%208.3.html">Hexagon Tools 8.3</a>
</p><p>
<a href="Tools_IDL%20Compiler.html">IDL Compiler</a>
</p><p>
<a href="Tools_On%20Target%20Profiling.html">On Target Profiling</a>
</p><p>
<a href="Tools_Scripts.html">Scripts</a>
</p><p>
<a href="Tools_Signing.html">Signing</a>
</p><p>
<a href="Tools_UserGuides.html">UserGuides</a>
</p><p>
<a href="Tools_Utilities.html">Utilities</a>
</p><hr>
<h3>
<a name="FAQ"></a>FAQ
</h3><p>
<a href="FAQ_Common.html">Common</a>
</p><p>
<a href="FAQ_Dynamic%20Loading.html">Dynamic Loading</a>
</p><p>
<a href="FAQ_FastRPC.html">FastRPC</a>
</p><p>
<a href="FAQ_Hexagon%20IDE.html">Hexagon IDE</a>
</p><hr>
<h3>
<a name="Dependencies"></a>Dependencies
</h3><p>
<a href="Dependencies_Common.html">Common</a>
</p><hr>
<h3>
<a name="Release%20Notes"></a>Release Notes
</h3><p>
<a href="Release%20Notes_Common.html">Common</a>
</p><hr>
<h3>
<a name="Support"></a>Support
</h3><p>
<a href="Support_Contact.html">Contact</a>
</p><center><img src="images/sidebar_bot.jpg"></center></div><div id="content"><a name="_top_" style="display:block;"></a><h1>
<a name="﻿Unit%20test%20framework"></a>&#65279;Unit test framework
</h1><div class="toc"><div class="tocLevel"><a href="#Overview">Overview</a></div><div class="tocLevel"><a href="#Creating%20unit%20test%20projects">Creating unit test projects</a></div><div class="tocLevel"><a href="#Integrating%20APPI/CAPI%20libraries%20into%20unit%20test%20projects">Integrating APPI/CAPI libraries into unit test projects</a><div class="tocLevel"><a href="#Adding%20libraries">Adding libraries</a></div><div class="tocLevel"><a href="#Removing%20libraries">Removing libraries</a></div><div class="tocLevel"><a href="#Configuring%20libraries">Configuring libraries</a></div><div class="tocLevel"><a href="#Importing%20and%20exporting%20libraries">Importing and exporting libraries</a></div></div><div class="tocLevel"><a href="#Unit%20tests">Unit tests</a></div><div class="tocLevel"><a href="#Batch%20tests">Batch tests</a><div class="tocLevel"><a href="#Test%20cases">Test cases</a></div><div class="tocLevel"><a href="#Editing%20test%20cases">Editing test cases</a></div><div class="tocLevel"><a href="#Batch%20test%20requirements">Batch test requirements</a></div><div class="tocLevel"><a href="#Running%20a%20batch%20test">Running a batch test</a></div><div class="tocLevel"><a href="#Interpreting%20batch%20test%20results">Interpreting batch test results</a></div></div></div><h2>
<a name="Overview"></a>Overview
</h2><p>
The Hexagon IDE provides executable frameworks for testing libraries developed with the Elite APPI/CAPI project templates.
</p><p>
This chapter covers the following topics:
</p><ul type="circle">
<li>
<p>
Creating unit test projects
</p>
</li><li>
<p>
Integrating APPI/CAPI libraries into unit test projects
</p>
</li><li>
<p>
Running single tests
</p>
</li><li>
<p>
Running batch tests
</p>
</li>
</ul><h2>
<a name="Creating%20unit%20test%20projects"></a>Creating unit test projects
</h2><p>
To create a unit test project, right-click on Project Explorer and choose <code>New -&gt; Hexagon Project</code>.
</p><p>
In the resulting wizard, select <code>Audio PP Testing Project</code> in the <code>Executable</code> class of projects. Provide the necessary information and then click on the <code>Finish</code> button.
</p><left><img src="images/unit_test_proj_create_dialog.png"></left><p>
After you click <code>Finish</code>, the IDE loads the main unit test file source along with other project template files. The loaded template files include the following key functionality:
</p><ul type="circle">
<li>
<p>
Support for parsing program arguments
</p>
</li><li>
<p>
Support for opening and reading files (I/O and config files into allocated buffers)
</p>
</li><li>
<p>
Support for running the unit test application
</p>
</li><li>
<p>
Support for parsing config file content based on keywords
</p>
</li><li>
<p>
Support for specifying media format settings for post-processing features
</p>
</li><li>
<p>
Follows APPI/CAPI-compliant command and data flow
</p>
</li>
</ul><p>
You can add test-specific code after integrating the audio PP library.
</p><h2>
<a name="Integrating%20APPI/CAPI%20libraries%20into%20unit%20test%20projects"></a>Integrating APPI/CAPI libraries into unit test projects
</h2><p>
In order to invoke the APPI/CAPI library APIs, unit tests based on executable projects require integration of the APPI/CAPI-compliant libraries. This integration enables the libraries to be linked to the unit test executable. The IDE manages the linker options to ensure proper linking of the libraries to the unit test executable.
</p><p>
To integrate libraries into a unit test project, right-click on the project and select <code>Integrate Library -&gt; Integrate Hexagon Library</code>. The following dialog box appears:
</p><left><img src="images/unit_test_integrate_library_dialog.png"></left><p>
You can add libraries to the unit test project, remove them, or change the build configuration of libraries in the project.
</p><p>
To simplify the process of library integration across projects, you can also import or export sets of configured libraries.
</p><p>
NOTE - For details on these operations see the following sections.
</p><p>
When you finish integrating the libraries, click on the <code>Finish</code> button.
</p><p>
The following dialog box appears, letting you know the libraries have been integrated:
</p><left><img src="images/unit_test_integrate_library_confirm_dialog.png"></left><p>
The IDE ensures that the linker options in the unit test project will reflect the libraries that were integrated into the project.
</p><p>
It also ensures that the APPI/CAPI header file paths are included into the compiler include options of the unit test project.
</p><p>
NOTE - When building and cleaning the unit test project, make sure that the linked library is built. Otherwise, this operation will generate an error.
</p><p>
Integrating a APPI/CAPI dynamic library does not require any changes to the build system. However, you must modify the following items:
</p><ul type="circle">
<li>
<p>
The function <code>&lt;project_name&gt;.cpp::dll_test()</code> in the unit test project, which requires the proper dynamic library file location (relative path to the unit test project)
</p>
</li><li>
<p>
The APPI <code>Init</code> function name
</p>
</li><li>
<p>
The APPI <code>getsize</code> function name
</p>
</li>
</ul><p>
Also, you must set the <code>__V_DYNAMIC__</code> flag to 1 (in &#8220;<code>Project properties -&gt; C/C++ Build setting -&gt; preprocessor symbols</code>&#8221;) to enable dynamic library testing.
</p><p>
NOTE - Build configurations are saved in the project settings file as persistent data, and can be restored from this file.
</p><p>
NOTE - The function names that must be modified are marked in the code as &#8220;TODO&#8221; items. These items can be highlighted in the IDE editor using the icons that appear in the editor sidebars.
</p><h3>
<a name="Adding%20libraries"></a>Adding libraries
</h3><p>
To add one or more libraries to a unit test project, click on the <code>Add</code> button in the <code>Integrate Hexagon&amp; Library</code> dialog box. The following dialog box appears:
</p><left><img src="images/unit_test_integrate_library_add_dialog_1.png"></left><p>
To select the libraries to add, click on the <code>Browse</code> button and the following dialog box appears:
</p><left><img src="images/unit_test_integrate_library_add_dialog_2.png"></left><p>
This dialog box lists all the libraries that can be added to the project.
</p><p>
The libraries listed are determined by the <a href="#Creating%20unit%20test%20projects">project type</a>:
</p><ul type="circle">
<li>
<p>
For APPI projects, only APPI libraries are listed.
</p>
</li><li>
<p>
For CAPI projects, only CAPI libraries are listed.
</p>
</li>
</ul><p>
To select one or more of the listed libraries for adding, click on the checkbox next to each library name. The <code>Select All</code> button selects all the listed libraries, while <code>Deselect All</code> deselects all of them.
</p><p>
Click on the <code>OK</code> button to specify the selected libraries for adding.
</p><p>
The <code>Integrate Library</code> dialog box reappears, with the libraries you selected now listed in the <code>Project name</code> field:
</p><left><img src="images/unit_test_integrate_library_add_dialog_3.png"></left><p>
Specify the configuration settings for the selected libraries:
</p><ul type="circle">
<li>
<p>
<b>Build configuration</b> &#8211; Build configuration (<code>Debug</code> or <code>Release</code>) of the libraries being integrated.
</p>
</li>
</ul><p>
Click on the <code>OK</code> button to add the selected libraries to the unit test project.
</p><p>
The <code>Integrate Hexagon Library</code> dialog box reappears, with the libraries you selected now listed in the <code>Project name</code> table:
</p><left><img src="images/unit_test_integrate_library_add_dialog_4.png"></left><h3>
<a name="Removing%20libraries"></a>Removing libraries
</h3><p>
To remove one or more libraries from a unit test project, select the libraries in the <code>Integrate Hexagon Library</code> dialog box and click on the <code>Remove</code> button.
</p><h3>
<a name="Configuring%20libraries"></a>Configuring libraries
</h3><p>
To change the build configuration of one or more libraries in a unit test project, select the libraries in the <code>Integrate Hexagon Library</code> dialog box and click on the<code>Edit</code> button. The following dialog box appears:
</p><left><img src="images/unit_test_integrate_library_config_dialog.png"></left><p>
Specify the configuration settings for the selected libraries:
</p><ul type="circle">
<li>
<p>
<b>Build configuration</b> &#8211; Build configuration (<code>Debug</code> or <code>Release</code>) of the libraries being integrated.
</p>
</li>
</ul><p>
Click on the <code>OK</code> button to update the configuration of the selected libraries.
</p><h3>
<a name="Importing%20and%20exporting%20libraries"></a>Importing and exporting libraries
</h3><p>
To simplify the process of library integration across projects, you can export the current set of configured libraries in a project. The result is exported as a CSV file which can then be used to import the entire set of configured libraries into another unit test project.
</p><p>
NOTE - The CSV file contains the library configuration, not the libraries themselves.
</p><p>
To export the libraries assigned to a project, click on the <code>Export</code> button in the <code>Integrate Hexagon Library</code> dialog box. This saves the current set of added libraries (and their build configurations) to a CSV file with the specified name.
</p><p>
To import a set of libraries into a project, click on the <code>Import</code> button in the <code>Integrate Hexagon Library</code> dialog box. This adds to the current project the set of libraries that is defined in the specified CSV file.
</p><h2>
<a name="Unit%20tests"></a>Unit tests
</h2><p>
Once an APPI/CAPI library has been integrated into a <a href="#Integrating%20APPI/CAPI%20libraries%20into%20unit%20test%20projects">unit test framework</a>, the resulting executable can be run on the Hexagon Simulator to test the library functionality.
</p><p>
To run a unit test, perform the following steps:
</p><ol type="1">
<li>
<p>
Build the unit test project by right-clicking on the project and selecting <code>Build</code>.
</p>
</li><li>
<p>
In Project Explorer right-click on the project folder and select the specific executable file.
</p>
</li><li>
<p>
Choose <code>Run As -&gt; Run Configurations</code>.
</p>
</li><li>
<p>
Navigate to the <code>Simulator</code> tab in the <code>Run Configurations</code> dialog box and specify the necessary simulator settings. For more information on the simulator options see the <a href="Tools_Hexagon%20Tools%208.3.html">Hexagon Simulator User Guide</a>.
</p>
</li><li>
<p>
Navigate to the <code>Arguments</code> tab and provide the necessary program arguments including the input file, output file, and config file). These arguments should be specified as shown in the following screen image.
</p>
</li><li>
<p>
Click on the <code>Apply</code> button to apply the new settings.
</p>
</li><li>
<p>
Click on the <code>Run</code> button to run the single test.
</p>
</li>
</ol><left><img src="images/unit_test_run_configs_dialog.png"></left><p>
NOTE - The input, output, and config files should be specified using paths that are relative to the project. For example, if the input file is located in <code>full_proj_path/vectors/in/testinput.raw</code>, then the input file name should be specified in the <code>Arguments</code> tab as <code>vectors/in/testinput.raw</code>.
</p><h2>
<a name="Batch%20tests"></a>Batch tests
</h2><p>
The IDE can automatically run multiple <a href="#Unit%20tests">unit tests</a> in batch mode, and generate a report summarizing the status (success or failure) of each unit test that was run.
</p><h3>
<a name="Test%20cases"></a>Test cases
</h3><p>
The test cases to be used in a batch test are specified in a test case file.
</p><p>
Text case files are XML-compliant files identified by the suffix <code>.qhut</code> (Qualcomm Hexagon Unit Test). They specify the test case information for each unit test that is performed in a batch test.
</p><pre><span style="color: blue">&lt;Testcases&gt;</span>

   <span style="color: blue">&lt;Testcase </span>Name=<span style="color: darkred">"FIR_TEST2"</span><span style="color: blue">&gt;</span>
      <span style="color: blue">&lt;InputFile&gt;</span>vectors_json/in/music_pei.pcm<span style="color: blue">&lt;/InputFile&gt;</span>
      <span style="color: blue">&lt;OutputFile&gt;</span>vectors_json/out/fir_test_02.pcm<span style="color: blue">&lt;/OutputFile&gt;</span>
      <span style="color: blue">&lt;ConfigFile&gt;</span>cfg/hpf.cfg<span style="color: blue">&lt;/ConfigFile&gt;</span>
      <span style="color: blue">&lt;Reference&gt;</span>vectors_json/ref/music_pei_ref.pcm<span style="color: blue">&lt;/Reference&gt;</span>
      <span style="color: blue">&lt;RunStatus&gt;</span>True<span style="color: blue">&lt;/RunStatus&gt;</span>
   <span style="color: blue">&lt;/Testcase&gt;</span>

   <span style="color: blue">&lt;Testcase </span>Name=<span style="color: darkred">"FIR_TEST3"</span><span style="color: blue">&gt;</span>
      <span style="color: blue">&lt;InputFile&gt;</span>vectors_json/in/music_pei.pcm<span style="color: blue">&lt;/InputFile&gt;</span>
      <span style="color: blue">&lt;OutputFile&gt;</span>vectors_json/out/fir_test_02.pcm<span style="color: blue">&lt;/OutputFile&gt;</span>
      <span style="color: blue">&lt;ConfigFile&gt;</span>cfg/hpf.cfg<span style="color: blue">&lt;/ConfigFile&gt;</span>
      <span style="color: blue">&lt;Reference&gt;</span>vectors_json/ref/music_pei_ref1.pcm<span style="color: blue">&lt;/Reference&gt;</span>
      <span style="color: blue">&lt;RunStatus&gt;</span>True<span style="color: blue">&lt;/RunStatus&gt;</span>
   <span style="color: blue">&lt;/Testcase&gt;</span>

   <span style="color: blue">&lt;Testcase </span>Name=<span style="color: darkred">"FIR_TEST4"</span><span style="color: blue">&gt;</span>
      <span style="color: blue">&lt;InputFile&gt;</span>vectors_json/in/music_pei.pcm<span style="color: blue">&lt;/InputFile&gt;</span>
      <span style="color: blue">&lt;OutputFile&gt;</span>vectors_json/out/fir_test_02.pcm<span style="color: blue">&lt;/OutputFile&gt;</span>
      <span style="color: blue">&lt;ConfigFile&gt;</span>cfg/hpf.cfg<span style="color: blue">&lt;/ConfigFile&gt;</span>
      <span style="color: blue">&lt;Reference&gt;</span>vectors_json/ref/music_pei_ref.pcm<span style="color: blue">&lt;/Reference&gt;</span>
      <span style="color: blue">&lt;RunStatus&gt;</span>False<span style="color: blue">&lt;/RunStatus&gt;</span>
   <span style="color: blue">&lt;/Testcase&gt;</span>

   <span style="color: blue">&lt;Testcase </span>Name=<span style="color: darkred">"FIR_TEST5"</span><span style="color: blue">&gt;</span>
      <span style="color: blue">&lt;InputFile&gt;</span>vectors_json/in/music_pei.pcm<span style="color: blue">&lt;/InputFile&gt;</span>
      <span style="color: blue">&lt;OutputFile&gt;</span>vectors_json/out/fir_test_02.pcm<span style="color: blue">&lt;/OutputFile&gt;</span>
      <span style="color: blue">&lt;ConfigFile&gt;</span>cfg/hpf.cfg<span style="color: blue">&lt;/ConfigFile&gt;</span>
      <span style="color: blue">&lt;Reference/&gt;</span>
      <span style="color: blue">&lt;RunStatus&gt;</span>True<span style="color: blue">&lt;/RunStatus&gt;</span>
   <span style="color: blue">&lt;/Testcase&gt;</span>

<span style="color: blue">&lt;/Testcases&gt;</span>
</pre><p>
The following properties are required in the test case information for a given unit test:
</p><ul type="circle">
<li>
<p>
<b>Name</b> &#8211; Unique test name
</p>
</li><li>
<p>
<b>Input File</b> &#8211; Input file to be processed by the test case
</p>
</li><li>
<p>
<b>Config File</b> &#8211; Configuration file containing test parameters
</p>
</li><li>
<p>
<b>Output File</b> &#8211; Output file to be generated by the test case
</p>
</li>
</ul><p>
The following properties are <i>optional</i> in the test case information for a given unit test:
</p><ul type="circle">
<li>
<p>
<b>Reference File</b> &#8211; The contents of this file will be compared with the contents of the output file to determine the status (success or failure) of running a unit test.
</p>
</li><li>
<p>
<b>Run Status</b> &#8211; Activation setting for a test case. This property is assigned a Boolean value indicating whether a test case should be activated (true) or deactivated (false). Deactivated tests are not run as part of the batch test.
</p>
</li>
</ul><h3>
<a name="Editing%20test%20cases"></a>Editing test cases
</h3><p>
Users can create or update a test case file in one of two ways:
</p><ul type="circle">
<li>
<p>
Using the form editor provided with the Hexagon IDE
</p>
</li><li>
<p>
Using a standard XML editor or text editor (note that the IDE provides both)
</p>
</li>
</ul><p>
To create a new test case file, right-click on the project in Project Explorer and choose <code>New -&gt; File</code>. Name the new file with the <code>.qhut</code> suffix.
</p><p>
Once the new file is created, an empty form appears.
</p><left><img src="images/unit_test_test_cases_1.png"></left><p>
To add a new test case, click on the <code>Add</code> icon:
</p><left><img src="images/unit_test_case_add_icon.png"></left><p>
Fill in the required field values for the test case properties. The test case name must be unique in the test list.
</p><p>
The <code>Test Cases</code> pane displays the current list of test cases defined in the file.
</p><p>
When a test is selected, the corresponding details are shown.
</p><left><img src="images/unit_test_test_cases_2.png"></left><p>
To remove a test case, select it and click on the <code>Remove</code> icon:
</p><left><img src="images/unit_test_case_remove_icon.png"></left><p>
To toggle the test case run status (Run Status is set to true/false), click on the <code>Toggle Status</code> icon:
</p><left><img src="images/unit_test_enable_disable_icon.png"></left><p>
NOTE - When an active test case is disabled, the selected test case name is set to non-bold/italic font to indicate that the test case is disabled for running.
</p><h3>
<a name="Batch%20test%20requirements"></a>Batch test requirements
</h3><p>
Running a batch test requires the following:
</p><ul type="circle">
<li>
<p>
Executable unit test project with a built executable (binary)
</p>
</li><li>
<p>
Test case file containing multiple test cases
</p>
</li><li>
<p>
Input and output vector files, reference files, configuration files
</p>
</li>
</ul><p>
NOTE - The binary file and test case file need to be accessible in the current path.
</p><h3>
<a name="Running%20a%20batch%20test"></a>Running a batch test
</h3><p>
To run all the tests in the test case file, click on the <code>Run All</code> icon:
</p><left><img src="images/unit_test_run_all_icon.png"></left><p>
The IDE then runs each of the unit test cases specified in the <a href="#Test%20cases">test case file</a>, using the associated support files to drive the test:
</p><ul type="circle">
<li>
<p>
<b>Input file</b> &#8211; File providing input stream for post-processing
</p>
</li><li>
<p>
<b>Output file</b> &#8211; File receiving output stream for post-processing
</p>
</li><li>
<p>
<b>Configuration file</b> &#8211; File providing configuration parameters for initializing the unit test
</p>
</li><li>
<p>
<b>Reference file</b> &#8211; The contents of this file are compared with the contents of the output file to determine the status result (success or failure) of running the unit test
</p>
</li>
</ul><p>
A unit test case will run only if one of the following conditions is true:
</p><ul type="circle">
<li>
<p>
The test case does not contain the <code>RunStatus</code> property.
</p>
</li><li>
<p>
The test case contains the <code>RunStatus</code> property, and the property is set to the value true.
</p>
</li>
</ul><p>
To run a single test case, click on the <code>Run Selected</code> icon:
</p><left><img src="images/unit_test_run_selected_icon.png"></left><p>
NOTE - You can use this to run more than one test case in the list.
</p><h3>
<a name="Interpreting%20batch%20test%20results"></a>Interpreting batch test results
</h3><p>
The unit test editor displays the execution status (success or failure) of each unit test in a batch test by color-coding the test case data as it appears in the editor window.
</p><left><img src="images/unit_test_test_cases_3.png"></left><p>
If a test is shown with a green checkmark icon, this indicates that the test succeeded (because the contents of the test&#8217;s generated output file are identical to the contents of the test&#8217;s specified reference file).
</p><left><img src="images/unit_test_run_pass_icon.png"></left><p>
If a test is shown with a red <code>X</code> icon, this indicates that the test failed (because the contents of the test&#8217;s generated output file are not identical to the contents of the test&#8217;s specified reference file).
</p><left><img src="images/unit_test_run_fail_icon.png"></left><p>
If a test is shown with a small red <code>x</code> icon in gray, this indicates that the test status is unknown (because no reference file was specified for the test in the JSON file).
</p><left><img src="images/unit_test_run_noref_icon.png"></left><p>
If a test is shown with a blue <code>H</code> icon, it indicates that the test case was not executed because the RunStatus property was set to false.
</p><left><img src="images/unit_test_run_disabled_icon.png"></left><p>
The console output for each of the unit tests can be viewed by clicking on the &#8220;terminal&#8221; icon (<code>Console</code>) that appears on the right-hand side of the IDE Console view, and then selecting the appropriate test instance.
</p><left><img src="images/unit_test_console_icon.png"></left><p>
The results are persistent (even across sessions too) until the tests are either run again or cleared by clicking on the &#8220;broom&#8221; icon (<code>Clear Results</code>):
</p><left><img src="images/unit_test_run_clear_results_icon.png"></left><p align="center" style="display:block;padding-top: 50px;">
  Copyright &#169; 2018 Qualcomm Technologies Inc. All rights reserved.

</p><a style="display:block;padding-bottom: 700px;"></a></div></div>
</body>
</html>
