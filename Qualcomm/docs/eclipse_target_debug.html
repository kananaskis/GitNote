<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<style type="text/css">
table {
   border-collapse: collapse;
   border-width: 1px;
   border-spacing: 1px;
   border-color: transparent;
   margin: 16px 0;
   width: 100%;
}
th {
   background-color: #bbb; color: white;
}
td, th {
   border-style: solid;
   border-color: black;
   border-width: 1px;
   padding: 0 6px;
}
td p:first-child, th p:first-child {
   margin-top: 3px;
}
td p:last-child, th p:last-child {
   margin-bottom: 3px;
}

.smarkdoc {
  margin-left: 42px; margin-right: 42px;
  font-size: 13px;
  font-family: 'Lucida Grande', Geneva, Helvetica, Arial, sans-serif;
}

h1, h2, h3 { color: #3c4c6c; }
h1 {
  text-align: center;
  font-size: 200%;
/*    margin-left: -30px; */
  clear: both;
}
h2 {
  font-size: 160%;
  margin: 32px -40px 24px -42px;
  padding: 3px 24px 8px;
  border-bottom: 2px solid #5088c5;
  clear: both;
}
h3 {
  font-size: 130%;
  margin: 20px -4px 10px;
  padding: 4px;
  clear: both;
}
h4 {
  font-size: 110%;
  margin: 2em 0 1em;
}

pre {
  font-size: 90%;
  background-color: #f0f0f4; padding: 6px; border: 1px solid #d0d0ee;
  font-family: "Courier New", "Lucida Console", "Monaco", monospace;
}

.pre {
  font-size: 90%;
  padding: 6px;
  background-color: #f0f0f4;
  font-family: "Courier New", "Lucida Console", "Monaco", monospace;
}

code {
  font-size: 90%;
  font-family: "Courier New", "Lucida Console", "Monaco", monospace;
}

h3 code {
  font-size: 100%;
}

p {
  margin: 0.8em 0;
}
ul, ol {
  margin: 1em 0 1em 3em; padding: 0;
}
div.indent {
  margin: 0 3em;
}

a[href] {
  text-decoration: none;
  color: #2020b0;
}
a[href]:hover {
  border-bottom: 1px dotted #2030d0;
}

/* Smark Users Guide */

.codebox {
  padding: 0 1px;  margin-right:1px;
  border:1px solid #d0d0ee;
  background-color: #f0f0f4;
  font-weight: bold;
  font-family: "Courier New", "Lucida Console", "Monaco", monospace;
}

/* ================ Smark-specific classes ================ */

.indent {
  margin: 0 3em;
}

/*
|| Floats affect text flow but not block boundaries, so graphics in a DIV
|| would overlap floats if not for "clear: both"
*/
.diagram {
  margin: 18px 0;
  clear: both;
}

/* ASCII Art */

.art {
  margin-right: auto; margin-left: auto; /* center */
  font-family: Arial, Verdana, "Lucida Console", Monaco, monospace;
  font-weight: bold;
}
.art * {
   border-color: #543;
}
.art .dline, .art .drect {
   border-style: dotted;
}
.art .rect {
   -webkit-box-shadow: 0.2em 0.2em 0.3em rgba(0,0,0,0.3);
   -moz-box-shadow: 0.2em 0.2em 0.3em rgba(0,0,0,0.3);
   box-shadow: 0.2em 0.2em 0.2em #875;
   background-color: #f9faf4; /* #fafff4; #f8f8ec;  */
}
.art .nofx {
   background-color: #f9faf4;
}
.art .round {
   border-radius: 0.6em;
   -webkit-border-radius: 0.6em;
   -moz-border-radius: 0.6em;
}

/* .art .line {  -webkit-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.3); } */

/* Sequence Charts */

.msc {
   font: 11px Verdana, Monaco, "Lucida Console";
   margin-left: auto; margin-right: auto;
   background-color: white;
   /* border: 1px solid #555; */  /* Useful for non-white pages */
}

/* Table of Contents */

.tocLevel {
  margin-left: 2em;
  font-weight: normal;
}
.tocLevel .tocLevel {
  font-size: 90%; /* ...of inherited font size */
  line-height: 150%; /* ...of font size */
}
.toc > .tocLevel {
  font-weight: bold;
  margin: 0.5em 0
}
.toc {
  column-count: 2; column-gap: 2em;
  -moz-column-count: 2; -moz-column-gap: 2em;
  -webkit-column-count: 2; -webkit-column-gap: 2em;
}

/* ordinary text content is in P elements */

td p:first-child, th p:first-child {
   margin-top: 3px;
}
td p:last-child, th p:last-child {
   margin-bottom: 3px;
}
li p:only-child {
  margin-top: 0;
  margin-bottom: 0;
}

/* ================ Print ================ */

@media print {

  @page {
    margin: 0.75in 0.75in;
    size: Letter;
    @bottom {
      content: counter(page);
      vertical-align: top;
      padding-top: 1em;
    }
  }
  h1 { text-align: center;
       margin: 3in 0 20px; }
  h2 { page-break-before: always; }
  h2 { string-set: section content() }
  .toc { margin: 3em -2em }
  .toc a::after {
     font-size: 10px;
     content: leader(' . ') "  " target-counter(attr(href), page);
  }
  table { page-break-inside: avoid; }
}

/* ================  Layout  ================ */
/*
 *  +------------------------+
 *  |         #header        |
 *  +----------+-------------+
 *  | #sidebar |  #content   |
 *  |          |             |
 *  +----------+-------------+
 *
 * CSS padding, border width, and border style (!) affect the actual height
 * (and in turn layout).
 */

#header {
  position: fixed;
  top: 0px;
  height: 32px;
  left: 0px;
  width: 100%;
  padding: 10px 10px 0 0;
}
#sidebar {
  position: fixed;
  top: 42px;
  bottom: 0px;
  left: 0px;
  min-width: 180px;
  overflow: auto;
  border: 1px solid transparent;
  border-width: 0 1px 0 1px;
  padding: 0px 5px 0px 5px;
}
#content {
  position: fixed;
  top: 60px;
  left: 200px;
  bottom: 0px;
  right: 0px;
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  padding: 10px 20px;
  padding-top: 0;
}

/* ================  Styles  ================ */


body {
  font-family: "Lucida Grande", Helvetica, Arial, sans-serif;
  font-size: 16px;
}

#header {
  color: #fff;
  background: #555;
  text-align: center;
  font-size: 25px;
}

#sidebar {
  color: #000;
  background: #eee;
  border-right: 1px solid #bbb;
  text-align: left;
  font-size: 12px;
  line-height: 50%;
}

#sidebar h1 {
  margin: 0 0 0 0;
  border-left: 5px solid transparent;
  text-align: left;
  font-size: 12px;
  /*text-shadow: #fff 1px 0px;*/
  line-height: 1%;
}

#sidebar h2 {
  margin: 2px 0 8px 0;
  border-left: 5px solid transparent;
  text-align: center;
  font-size: 12px;
  /*text-shadow: #fff 1px 0px;*/
  line-height: 1%;
}



#content {
  margin: 0;
  font-size: 13px;
  line-height: 160%;
}

#content h1, #content h2 {
  border-bottom: 2px solid;
  font-size: 1.8em;
  font-weight: normal;
  margin: 2.0em 0px 1.3em 0px;
  padding-bottom: 0.6em;
  text-align: left;
}

#content h3 {
  color: #242220;
  font-size: 1.4em;
  font-weight: normal;
  margin: 2em 0px 0.8em 0px;
  text-shadow: #FFFFFF 0px 1px 1px;
}
#content h4 {
  font-size: 1.2em;
  font-weight: normal;
  margin: 2em 0px 0.5em 0px;
  text-shadow: #FFFFFF 0px 1px 1px;
}

a[href] {
  color: #05c;
  text-decoration: none;
}

#sidebar a {
  /*text-shadow:  1px 1px 2px #fff, -1px -1px #ddd;*/
  line-height: 40%;
}

pre, code {
  font-family: "Courier New", "Lucida Console", "Monaco", monospace;
  font-family: "Monaco", monospace;  font-size: 90%;
  background-color: #f8f8fa;
  border: 1px solid #e4e4ee;
  -webkit-border-radius: 2px;
  -moz-border-radius: 2px;
  border-radius: 2px;
  padding: 1px 0 0 1px;
}

pre {
  padding: 2px 4px;
}

table {
   border-collapse: collapse;
   border-width: 1px;
   border-spacing: 1px;
   border-color: transparent;
   margin: 16px 0;
   width: 100%;
}
th {
   background-color: #bbb; color: white;
}
td, th {
   border-style: solid;
   border-color: black;
   border-width: 1px;
   padding: 0 6px;
}

/* Highlight currently-selected sidebar link */

#sidebar a.thisfile {
  color: #557;
}

/* indentation */

#content {
   padding-left: 60px;
}
#content h1, 
#content h2, 
#content h3, h4 {
    margin-left: -30px;
}

h3 > code {
    font-size: 80%;
}

/* ================ Smark-specific classes ================ */

.indent {
  margin: 0 3em;
}

/*
|| Floats affect text flow but not block boundaries, so graphics in a DIV 
|| would overlap floats if not for "clear: both"
*/
.diagram {
  margin: 18px 0;
  clear: both;
}

/* ASCII Art */

.art {
  margin-right: auto; margin-left: auto; /* center */
  font-family: Arial, Verdana, "Lucida Console", Monaco, monospace;
  font-weight: bold;
}
.art * {
   border-color: #543;
}
.art .dline, .art .drect {
   border-style: dotted;
}
.art .rect {
   -webkit-box-shadow: 0.2em 0.2em 0.3em rgba(0,0,0,0.3);
   -moz-box-shadow: 0.2em 0.2em 0.3em rgba(0,0,0,0.3);
   box-shadow: 0.2em 0.2em 0.2em #875;
   background-color: #f9faf4; /* #fafff4; #f8f8ec;  */
}
.art .nofx {
   background-color: #f9faf4;
}
.art .round {
   border-radius: 0.6em;
   -webkit-border-radius: 0.6em;
   -moz-border-radius: 0.6em;
}

/* Sequence Charts */

.msc {
   font: 11px Verdana, Monaco, "Lucida Console"; 
   margin-left: auto; margin-right: auto;
   background-color: white;
   border: 1px solid #555;
}

/* Table of Contents */

.tocLevel {
  margin-left: 2em;
  font-weight: normal;
}
.tocLevel .tocLevel {
  font-size: 90%; /* ...of inherited font size */
  line-height: 150%; /* ...of font size */
}
/*
.toc > .tocLevel {
  font-weight: bold;
  margin: 0.5em 0
}
*/

.toc {
  column-count: 1; column-gap: 2em;
  -moz-column-count: 1; -moz-column-gap: 2em;
  -webkit-column-count: 1; -webkit-column-gap: 2em; 
   alternate: column-width: 235px; column-rule-width: 5px;
}


.columns {
  column-count: 2; column-gap: 2em;
  -moz-column-count: 2; -moz-column-gap: 2em;
  -webkit-column-count: 2; -webkit-column-gap: 2em; p
}

/* ordinary text content is in P elements */

td p:first-child, th p:first-child {
   margin-top: 3px;
}
td p:last-child, th p:last-child {
   margin-bottom: 3px;
}
li p:only-child {
  margin-top: 0;
  margin-bottom: 0;
}


/* ================ Print ================ */

@media print {

  #header, #content { position: static; }
  #sidebar { display: none; }

  @page {
    margin: 0.75in 0.75in;
    size: Letter;
    @bottom {
      content: counter(page);
      vertical-align: top;
      padding-top: 1em;
    }
  }
  h1 { text-align: center;
       margin: 1in 0 1in; }
  h2 { page-break-before: always; }
  h2 { string-set: section content() }
  .toc { margin: 3em 0 }
  .toc a::after {
     font-size: 10px;
     content: leader(' . ') "  " target-counter(attr(href), page);
  }
  table { page-break-inside: avoid; }
}


</style><style type="text/css">
.search { right: 20pt; position: fixed; top: 5pt }

</style><title>&#65279;Using Eclipse plugin for debugging</title>
</head><body>
<div class="smarkdoc"><div id="header">Hexagon SDK 3.4.3</div><div id="sidebar"><top><img src="images/sidebar_top.jpg"></top><script src="scripts/post.js" type="text/javascript"></script><form class="search" id="searchForm"><input id="searchquery" name="q" onkeydown="postFunctionKeydown(event, false)"><input id="searchButton" onclick="postFunction(false)" type="button" value="Search"></form><p>
<a href="index.html">Quick start</a>
</p><hr>
<p>
<a href="feature_matrix.html">Feature Matrix</a>
</p><hr>
<p>
<a href="hexagon_architecture.html">Hexagon Architecture</a>
</p><hr>
<p>
<a href="images/Hexagon_Document_Bundle.pdf#page=2881">Hexagon Compiler/Linker</a>
</p><hr>
<p>
<a href="hexagon_libraries.html">Hexagon Standard Libraries</a>
</p><hr>
<p>
<a href="images/80-VB419-178_QuRT_User_Guide.pdf">Hexagon RTOS</a>
</p><hr>
<p>
<a href="images/80-VB419-108_Hexagon_DSP_User_Guide.pdf">Hexagon DSP Programming</a>
</p><hr>
<h3>
<a name="Platforms"></a>Platforms
</h3><p>
<a href="Platforms_HLOS.html">HLOS</a>
</p><p>
<a href="Platforms_Simulator.html">Simulator</a>
</p><p>
<a href="Platforms_Target.html">Target</a>
</p><hr>
<h3>
<a name="Environments"></a>Environments
</h3><p>
<a href="Environments_Build%20System.html">Build System</a>
</p><p>
<a href="Environments_Build%20System%20Porting.html">Build System Porting</a>
</p><p>
<a href="Environments_Hexagon%20IDE.html">Hexagon IDE</a>
</p><hr>
<h3>
<a name="ArchitectureOverview"></a>ArchitectureOverview
</h3><p>
<a href="HVX/ArchitectureOverview.html">HVX</a>
</p><hr>
<h3>
<a name="Applications"></a>Applications
</h3><p>
<a href="Audio/Applications.html">Audio</a>
</p><p>
<a href="Camera%20streaming/Applications.html">Camera streaming</a>
</p><p>
<a href="Applications_Compute%20offload.html">Compute offload</a>
</p><p>
<a href="FastCV/Applications_Computer%20Vision.html">Computer Vision</a>
</p><p>
<a href="Neural%20Networks/Applications.html">Neural Networks</a>
</p><p>
<a href="Voice/Applications.html">Voice</a>
</p><hr>
<h3>
<a name="APIs"></a>APIs
</h3><p>
<a href="APIs_Async%20Message%20Queue.html">Async Message Queue</a>
</p><p>
<a href="APIs_DSP%20Clk%20&amp;%20Rsrc%20Mgmt.html">DSP Clk &amp; Rsrc Mgmt</a>
</p><p>
<a href="APIs_Dynamic%20Loading.html">Dynamic Loading</a>
</p><p>
<a href="APIs_FastRPC.html">FastRPC</a>
</p><hr>
<h3>
<a name="Examples"></a>Examples
</h3><p>
<a href="Audio/Examples.html">Audio</a>
</p><p>
<a href="Camera%20streaming/Examples.html">Camera streaming</a>
</p><p>
<a href="Examples_Common.html">Common</a>
</p><p>
<a href="Examples_ComputeHVX.html">ComputeHVX</a>
</p><p>
<a href="Examples_GeneralOverview.html">GeneralOverview</a>
</p><p>
<a href="Neural%20Networks/Examples.html">Neural Networks</a>
</p><hr>
<h3>
<a name="Testing"></a>Testing
</h3><p>
<a href="CAPIv2/Testing_CAPIv2%20Unit%20Tests.html">CAPIv2 Unit Tests</a>
</p><p>
<a href="Testing_Eclipse%20Unit%20Tests.html">Eclipse Unit Tests</a>
</p><hr>
<h3>
<a name="Debugging"></a>Debugging
</h3><p>
<a href="Debugging_Connect%20to%20Device.html">Connect to Device</a>
</p><p>
<a href="Debugging_Exceptions.html">Exceptions</a>
</p><p>
<a href="Debugging_Message%20Logging.html">Message Logging</a>
</p><p>
<a href="Debugging_Simulator.html">Simulator</a>
</p><p>
<a href="Debugging_Target.html">Target</a>
</p><hr>
<h3>
<a name="Tools"></a>Tools
</h3><p>
<a href="Tools_Hexagon%20Tools%208.3.html">Hexagon Tools 8.3</a>
</p><p>
<a href="Tools_IDL%20Compiler.html">IDL Compiler</a>
</p><p>
<a href="Tools_On%20Target%20Profiling.html">On Target Profiling</a>
</p><p>
<a href="Tools_Scripts.html">Scripts</a>
</p><p>
<a href="Tools_Signing.html">Signing</a>
</p><p>
<a href="Tools_UserGuides.html">UserGuides</a>
</p><p>
<a href="Tools_Utilities.html">Utilities</a>
</p><hr>
<h3>
<a name="FAQ"></a>FAQ
</h3><p>
<a href="FAQ_Common.html">Common</a>
</p><p>
<a href="FAQ_Dynamic%20Loading.html">Dynamic Loading</a>
</p><p>
<a href="FAQ_FastRPC.html">FastRPC</a>
</p><p>
<a href="FAQ_Hexagon%20IDE.html">Hexagon IDE</a>
</p><hr>
<h3>
<a name="Dependencies"></a>Dependencies
</h3><p>
<a href="Dependencies_Common.html">Common</a>
</p><hr>
<h3>
<a name="Release%20Notes"></a>Release Notes
</h3><p>
<a href="Release%20Notes_Common.html">Common</a>
</p><hr>
<h3>
<a name="Support"></a>Support
</h3><p>
<a href="Support_Contact.html">Contact</a>
</p><center><img src="images/sidebar_bot.jpg"></center></div><div id="content"><a name="_top_" style="display:block;"></a><h1>
<a name="﻿Using%20Eclipse%20plugin%20for%20debugging"></a>&#65279;Using Eclipse plugin for debugging
</h1><div class="toc"><div class="tocLevel"><a href="#Overview">Overview</a></div><div class="tocLevel"><a href="#Prerequisites%20for%20debugging%20on%20target">Prerequisites for debugging on target</a></div><div class="tocLevel"><a href="#Import,Build%20and%20Debug%20SDK%20example%20from%20Eclipse">Import,Build and Debug SDK example from Eclipse</a><div class="tocLevel"><a href="#Step%201%20–%20Import%20Hexagon%20SDK%20example%20project%20to%20workspace">Step 1 &#8211; Import Hexagon SDK example project to workspace</a></div><div class="tocLevel"><a href="#Step%202%20–%20Build%20project">Step 2 &#8211; Build project</a></div><div class="tocLevel"><a href="#Step%203%20–%20Push%20required%20binaries%20to%20target">Step 3 &#8211; Push required binaries to target</a></div><div class="tocLevel"><a href="#Step%204%20–%20Attach%20to%20User%20PD%20process">Step 4 &#8211; Attach to User PD process</a></div><div class="tocLevel"><a href="#Step%205%20–%20Debug%20Application">Step 5 &#8211; Debug Application</a></div></div></div><h2>
<a name="Overview"></a>Overview
</h2><p>
This chapter describes how to use the IDE to debug a shared object.
</p><p>
It describes the following topics:
</p><ul type="circle">
<li>
<p>
Debugging shared objects on target
</p>
</li>
</ul><h2>
<a name="Prerequisites%20for%20debugging%20on%20target"></a>Prerequisites for debugging on target
</h2><p>
Before you start debugging on the target using the IDE, please go over the <a href="Debugging_Target.html#Software%20requirements">requirements</a> for Software and Hardware needed for debugging. The page also has a section on <a href="Debugging_Target.html#Verification%20of%20software%20requirements">verifying if your target is enabled for target-debugging</a>.
</p><h2>
<a name="Import,Build%20and%20Debug%20SDK%20example%20from%20Eclipse"></a>Import,Build and Debug SDK example from Eclipse
</h2><p>
This section presents an example which shows how to debug a library project that is called by an application project:
</p><ul type="circle">
<li>
<p>
The shared library implements a compute engine which runs on the Hexagon processor.
</p>
</li><li>
<p>
The application is an Android NDK calculator application which off-loads specific computations onto the compute engine.
</p>
</li>
</ul><p>
The application communicates with the compute engine using FastRPC.
</p><p>
The compute engine will be debugged from the IDE while running on the target platform.
</p><p>
The following diagram shows an overview of the calculator example:
</p><left><img src="images/target_debug_shared_compute_offload_fig_1.png"></left><p>
Here is the project flow for the calculator example:
</p><left><img src="images/target_debug_shared_compute_offload_fig_2.png"></left><p>
Please use the following steps to debug calculator example on the target.
</p><h3>
<a name="Step%201%20–%20Import%20Hexagon%20SDK%20example%20project%20to%20workspace"></a>Step 1 &#8211; Import Hexagon SDK example project to workspace
</h3><p>
To import the example into your Eclipse workspace, right-click in Project Explorer and select
</p><p>
<code>Import -&gt; C/C++ -&gt; Existing Code as Makefile Project</code>.
</p><left><img src="images/import_makefile_project.png"></left><p>
In the dialog box, specify the following project properties:
</p><ul type="circle">
<li>
<p>
<b>Project name</b> &#8211; <code>Name of your project</code>
</p>
</li><li>
<p>
<b>Project location</b> &#8211; Root directory of the Hexagon library project
</p>
</li><li>
<p>
<b>Toolchain</b> &#8211; select Hexagon LLVM Tool chain
</p>
</li>
</ul><p>
Click on the <code>Finish</code> button to finish importing the project.
</p><left><img src="images/import_existing_code.png"></left><h3>
<a name="Step%202%20–%20Build%20project"></a>Step 2 &#8211; Build project
</h3><p>
To build the imported project, right-click on the project , select properties and then C/C++ Build. Under Builder settings, enter the build command as <b>make V=hexagon_Debug_dynamic_toolv82_v65 VERBOSE=1</b> or enter your target-appropriate build flavor, e.g: for SM8150 build variant is <b>hexagon_Debug_dynamic_toolv82_v66</b>.
</p><p>
While debugging, Debug build flavors are recommended when possible over Release/ReleaseG, to avoid possible confusions caused by the compiler optimizer.
</p><left><img src="images/build_settings.png"></left><p>
Under Behaviour tab set Build textbox to <b>tree</b> and Clean textbox to <b>tree_clean</b>
</p><left><img src="images/build_behaviour.png"></left><p>
Build the project by right-clicking on the project and select Build Project
</p><left><img src="images/target_debug_build_project.png"></left><h3>
<a name="Step%203%20–%20Push%20required%20binaries%20to%20target"></a>Step 3 &#8211; Push required binaries to target
</h3><p>
Build Andriod executable command line using the following commands
</p><pre>cd C:\Qualcomm\Hexagon_SDK\3.4.1
run setup_sdk_env.cmd     see [Setup Instructions] (readme.html)
cd examples\common\calculator
make tree V=android_Debug 
</pre><p>
Please follow the below steps to push binaries to target
</p><pre style="font-size: 79%">cd &lt;Hexagon SDK Dir&gt;/examples/common/calculator
adb root
adb wait-for-device
adb remount   
adb push android_Debug/ship/calculator /vendor/bin
adb shell chmod 777 /vendor/bin/calculator
adb push android_Debug/ship/libcalculator.so /vendor/lib/
adb shell mkdir -p /vendor/lib/rfsa/adsp/
adb push &lt;Hexagon build variant that you build in step3&gt; 
(e.g hexagon_Debug_dynamic_toolv82_v65)&gt;/ship/libcalculator_skel.so /vendor/lib/rfsa/adsp/
</pre><p>
Generate a device specific test signature based on the device's serial number.
</p><p>
This only has to be done once. The same test signature will enable loading of any module and therefore should be used for your own projects as well. Run following script to push testsignature to target
</p><pre>python &lt;Hexagon SDK Dir&gt;\scripts\testsig.py
</pre><h3>
<a name="Step%204%20–%20Attach%20to%20User%20PD%20process"></a>Step 4 &#8211; Attach to User PD process
</h3><p>
Please follow the below steps
</p><ul type="circle">
<li>
<p>
<b>Set Breakpoint in the shared object</b>
</p><div class="indent"><p>
The imported Hexagon library project must be configured so it automatically attaches to the target process when you first start debugging it.
</p><p>
To do this, you need to set breakpoints in the required files in the shared library project where you want the debug session to break.
</p><p>
Before launching the debug session IDE fails to set the breakpoint at a given line number in source file.
</p><p>
However you can set breakpoint at particular function in the debug configuration wizard before launching debug session.
</p><p>
Later when this initial breakpoint is reached, you will be able to set additional source line breakpoints.
</p><p>
To set a breakpoint at particular function click on
</p><p>
<code>Run -&gt; Debug Configurations C/C++ -&gt; Double click on **Hexagon C/C++ Attach to Remote Application**</code>
</p><p>
goto Debugger tab and set the function name in the textbox associated with &#8220;Stop on startup at&#8221; label.
</p><left><img src="images/target_debug_set_functionname_to_break.png"></left><p>
Click on Main Tab to disable auto build as shown in below
</p><left><img src="images/remote_debugger_disable_auto_build.png"></left><p>
Click on Apply and Close.
</p></div>
</li><li>
<p>
<b>Setup debug configuration</b>
</p><div class="indent"><p>
Right-click on the project in Project Explorer and choose <code>Debug As -&gt; Hexagon C/C++ Attach to Application</code>.
</p><left><img src="images/target_debug_shared_attach_menu.png"></left><p>
The following dialog box appears:
</p><left><img src="images/target_debug_shared_configs_hex_dialog_cdsp.png"></left><p>
In the <code>Executable</code> field, specify the binary file to debug. Use <code>File System</code> to navigate to a different file system.
</p><p>
In this example fastrpc_shell_3 is specified as binary. Shared object on DSP cannot be debugged standalone. fastrpc_shell_3 elf is the base image for USER PD and that makes call to shared object. fastrpc_shell_3 is not present in SDK. Users have to pull it from device using the following command.
</p><div class="indent"><pre>adb pull /dsp/cdsp/fastrpc_shell_3 . 
</pre></div><p>
To debug shared object on ADSP you need to specify fastrpc_shell_0. This file will be present in /dsp/adsp.
</p><p>
If fastrpc_shell_0 is not present in /dsp/adsp folder, please check /dsp folder.
</p><p>
In the <code>Shared libraries search path</code> field, specify the directory of shared library to be debugged during the debug session. Use <code>File System</code> or <code>Workspace</code> to search for shared libraries.
</p><p>
In the <code>Target</code> drop-down list, choose the ID of the target device to debug on. After you choose the target in <code>Target</code> field default subsystem(CDSP for targets having CDSP subsystem and ADSP for targets that dont have CDSP subsystem) will be selected in <code>Subsystem</code> field and fastrpc processes will be listed in the <code>Process name</code> field. If there are no fastrpc processes running on your target,you will see the <code>Process name</code> field empty.
</p><p>
If you want to debug your shared object on ADSP, you need to select <code>ADSP</code> in the <code>Subsystem</code> field, the following dialog box opens and then you need to wait for the device to reboot. This dialog box will automatically close after your device is online.
</p><left><img src="images/target_debug_popup.png"></left><p>
So after your device is online, you will see <code>ADSP</code> in the <code>Subsystem</code> field and if there are any fastrpc processes running, they will be listed in <code>Process name</code> field, otherwise you will find it empty.
</p><left><img src="images/target_debug_shared_configs_hex_dialog.png"></left></div><div class="indent"><p>
In case your target has only <code>ADSP</code> subsystem present, then you can directly debug on <code>ADSP</code> without rebooting the device and also in <code>Subsystem</code> field you can only select <code>ADSP</code>.
</p><div class="indent"><p>
NOTE -
</p><div class="indent"><p>
If no target ID is displayed except the simulator, this indicates the target device is not connected properly &#8211; try disconnecting the device and then reconnecting it again. If you get the error as shown below
</p><div class="indent"><left><img src="images/debug_error_search_subsys_list.png"></left></div><p>
Then make sure your device does not get disconnected(especially after reboot) when processes are being fetched.
</p></div><p>
The field &#8220;Process name&#8221; needs to be set to the application that you will be running on the target. The application will show up in this drop-down list only if it is running on the device.
</p></div></div><div class="indent"><p>
Before you proceed and hit the &#8220;Debug&#8221; button, make sure the next two steps are completed.
</p></div>
</li><li>
<p>
<b>Run android application</b>
</p><div class="indent"><p>
Before you can proceed with debugging the Hexagon library project, you will first need to run the calculator application so it can make a call to the Hexagon library project. Run calculator from command-line as follows
</p><div class="indent"><pre>adb shell
msm8998:/ # /vendor/bin/calculator 0 1000
</pre></div><p>
Now calculator will be waiting for the debugger to connect.
</p><p>
Note: stdout is getting buffered with adb versions 1.0.36 and above. If you are using adb 1.0.36 and above, please run your application from the adb shell as above.
</p></div>
</li><li>
<p>
<b>Select user pd process</b>
</p><div class="indent"><p>
Click on the <code>Refresh</code> icon
</p><left><img src="images/target_debug_shared_refresh_icon.png"></left><p>
Calculator process will be shown in the process drop-down list now and select calculator process.
</p><left><img src="images/remote_debugger_select_calculator.png"></left><p>
Click on the <code>Debug</code> button to start the shared library debug session.
</p><p>
This starts the Hexagon library project, and causes it to automatically connect to the target and then prompt you to switch to the Debug perspective.
</p></div>
</li>
</ul><h3>
<a name="Step%205%20–%20Debug%20Application"></a>Step 5 &#8211; Debug Application
</h3><p>
Your breakpoint will be hit now and you should see something like below.
</p><div class="indent"><left><img src="images/calc_target_debug.png"></left></div><p>
At this point you can debug your code by stepping into or stepping over. When the debug session is completed, the calculator output can be viewed in the CDT console.
</p><p>
NOTE - To make debug sessions faster and more interactive, you can optionally limit the number of stack frames per thread. To do this, select <code>Window -&gt; Preferences -&gt; Run/Debug -&gt; View Performance -&gt; Limit number of stack frames</code>.
</p><p>
Please refer to known issues mentioned <a href="Debugging_Target.html#Known%20issues">here</a>
</p><p>
This completes the tutorial for debug shared objects during target debugging. <a href="eclipse_compute_offload_application.html">Compute off-load application</a> serves as a reference for using fastRPC to implement shared objects.
</p><p align="center" style="display:block;padding-top: 50px;">
  Copyright &#169; 2018 Qualcomm Technologies Inc. All rights reserved.

</p><a style="display:block;padding-bottom: 700px;"></a></div></div>
</body>
</html>
